---
title: NodeAdder 节点添加器
icon: Plus
relatedFile: app/src/core/stage/stageManager/concreteMethods/StageNodeAdder.tsx
---

该服务主要负责在项目画布上添加各种类型的节点，包括文本节点、连接点，并支持通过点击、相对现有节点、纯文本或Markdown文本等多种方式进行添加。它还处理节点的自动命名、自动着色以及节点间的连接关系。

## 功能概述

### 节点添加

服务提供了多种添加节点的方式，以适应不同的用户交互和数据源。

- **通过点击添加文本节点**：允许用户在画布的指定位置通过点击操作添加新的文本节点，并支持自动命名和自动着色。
- **从当前选中节点添加文本节点**：在已选中一个节点的情况下，可以在其上方、下方、左侧或右侧添加新的文本节点，并自动处理新节点的位置对齐。
- **添加连接点**：在指定位置添加一个可连接的连接点实体。

### 批量节点添加

服务支持从结构化文本数据中批量创建节点和它们之间的关系。

- **通过纯文本添加节点图**：解析特定格式的纯文本，根据文本内容创建文本节点并建立它们之间的连接关系，形成一个图结构。
- **通过带缩进的文本添加节点树**：解析带有缩进格式的文本，根据缩进级别创建文本节点并建立父子连接关系，形成一个树结构。
- **通过Markdown文本添加节点**：解析Markdown文本，将标题和内容转换为文本节点，并根据Markdown的层级结构建立节点间的连接关系。

## 辅助功能

### 自动命名与着色

服务集成了自动命名器和自动着色功能，为新创建的节点提供默认的名称和颜色，提高用户体验。
