---
title: StageUtils 舞台工具
icon: Layers
relatedFile: app/src/core/stage/stageManager/concreteMethods/StageManagerUtils.tsx
---

舞台管理工具

该服务提供了一系列用于管理舞台上对象名称的实用功能，特别是处理自动生成的名称模板，并确保名称的唯一性，避免与现有舞台元素发生冲突。

## API

### `replaceAutoNameWithoutStage(template: string): string`

此方法用于替换模板字符串中不需要在舞台上进行冲突检测的自动生成名称占位符，例如 `{{date}}` 和 `{{time}}`，将其替换为当前的日期和时间。

### `replaceAutoNameTemplate(currentName: string, targetStageObject: StageObject): string`

此方法处理包含 `{{i}}` 占位符的自动生成名称。它首先调用 `replaceAutoNameWithoutStage` 处理日期和时间占位符，然后迭代递增 `i` 的值，直到找到一个与舞台上现有 `TextNode` 或 `Section` 名称不冲突的唯一名称。

### `isNameConflictWithTextNodes(name: string): boolean`

此方法检查给定的名称是否与项目中舞台管理器中的任何现有文本节点（`TextNode`）的名称发生冲突。

### `isNameConflictWithSections(name: string): boolean`

此方法检查给定的名称是否与项目中舞台管理器中的任何现有区域（`Section`）的名称发生冲突。
